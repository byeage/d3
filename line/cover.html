<html>
<head>
  <meta charset="UTF-8">
  <title>line chart</title>
  <script src="../js/jquery-2.1.4.min.js"></script>
  <script src="../js/underscore.js"></script>
  <script src="../js/d3.js"></script>
  <style>
    *{
      padding: 0;
      margin:0;
    }
    html,body{
      width: 100%;
      height: 100%;
    }
    
  </style>
</head>
<body>
</body>
<script>
    

var width = $("body").width();
var height = $("body").height();
var svg=d3.select("body")
      .append("svg")
      .attr("id","main")
      .attr("width", width)
      .attr("height", height);



var data=d3.range(10);

var color=d3.scale.category10();


var recordY=[];

var rects=svg.selectAll("rect")
  .data(data)
  .enter()
  .append("rect")
  .attr("class","rect")
  .attr("width",100)
  .attr("height",30)
  .attr("fill",function(d,i){
    console.log(i)
    return color(i)}
   )
  .attr("x",0)
  .attr("y",function(d,i){
    var y=i*40*Math.random();
        recordY.push(y);
      return y;
  });


_.each( recordY,function(e,i,all){

    if(i==(all.length-1)){
      return;
    }

    if((all[i+1]-all[i])<35){
        all[i+1]=all[i]+35    ;
    }


});


rects.attr("y",function(d,i){

  return recordY[i];

});

console.log(recordY)




    



</script>
</html>